@page "/password/reset"
@inject IAccountService AccountService
@inject ITokenService TokenService
@inject AuthenticationStateProvider AuthenticationStateProvider

<MudContainer MaxWidth="MaxWidth.Small" Style="height: 100%; display: flex; align-items: center; justify-content: center;">
    <EditForm Model="Input" method="post" OnValidSubmit="HandleResetPassword" FormName="login">
        <DataAnnotationsValidator />
        <MudText Typo="Typo.h4" Align="Align.Center" GutterBottom>Reset Password</MudText>
        <MudGrid Justify="Justify.Center">
            <MudItem xs="12">
                <MudTextField T="string"
                              Label="Password"
                              Placeholder="••••••••"
                              Variant="Variant.Filled"
                              @bind-Value="Input.Password"
                              Required="true"
                              Immediate="true"
                              InputType="@PasswordInput01"
                              Adornment="Adornment.Start"
                              AdornmentColor="Color.Primary"
                              AdornmentIcon="@PasswordInputIcon01"
                              OnAdornmentClick="PW01Vis"
                              MaxLength="100"
                              For="() => Input.Password" />
            </MudItem>

            <MudItem xs="12">
                <MudTextField T="string"
                              Label="Password"
                              Placeholder="••••••••"
                              Variant="Variant.Filled"
                              @bind-Value="Input.PasswordConfirm"
                              Required="true"
                              Immediate="true"
                              InputType="@PasswordInput02"
                              Adornment="Adornment.Start"
                              AdornmentColor="Color.Primary"
                              AdornmentIcon="@PasswordInputIcon02"
                              OnAdornmentClick="PW02Vis"
                              MaxLength="100"
                              For="() => Input.PasswordConfirm" Class="text-danger" />
            </MudItem>
        </MudGrid>

        <MudSpacer />

        <MudButton ButtonType="ButtonType.Submit"
                   Variant="Variant.Filled"
                   Color="Color.Primary"
                   Class="mt-3"
                   FullWidth="true">
            <MudIcon Icon="@Icons.Material.Filled.Login" Class="mr-2" />Reset Password
        </MudButton>
    </EditForm>
</MudContainer>